<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Semester Results</title>
    <style>
        {{{styles}}}
    </style>
</head>
<body>
    <header class="report-header">
        <div class="report-header-box">CLASS: {{promotionName}}</div>
        <div class="report-header-title">
            <div>{{semesterTitle}} GRADE REPORT SHEET</div>
            <div class="subtitle">NORMAL SESSION</div>
        </div>
        <div class="report-header-box">ACADEMIC YEAR: {{academicYear}}</div>
    </header>

    <table class="grade-table">
        <colgroup>
            <col class="col-no" />
            <col class="col-id" />
            <col class="col-surname" />
            <col class="col-name" />
            {{#each tus}}
                {{#each tues}}
                    <col class="tue-col" />
                {{/each}}
                <col class="tu-avg-col" />
            {{/each}}
            <col class="total-credits" />
            <col class="final-average" />
            <col class="intl-grade" />
            <col class="conversion" />
            <col class="pass-fail" />
            <col class="redo" />
        </colgroup>
        <thead>
            <tr class="top-group">
                <th colspan="4" rowspan="2" class="logo-cell">
                    <div class="logo-block">
                        <img src="data:image/jpeg;base64,{{logoBase64}}" alt="BIT logo" />
                        <div class="logo-text">
                            <div class="logo-title">burkina</div>
                            <div class="logo-title">institute of technology</div>
                        </div>
                    </div>
                </th>
                {{#each tus}}
                    <th colspan="{{colspan}}" class="tu-group">
                        <div class="tu-header">
                            <div class="tu-name">{{name}}</div>
                            <div class="tu-divider"></div>
                            <div class="tu-credits">{{credits}}</div>
                        </div>
                    </th>
                {{/each}}
                <th rowspan="3" class="total-credits vertical-right">Total of Credits</th>
                <th rowspan="3" class="final-average vertical-right">Final Average</th>
                <th rowspan="3" class="intl-grade vertical-right">International Grade</th>
                <th rowspan="3" class="conversion-header vertical-right">Conversion</th>
                <th rowspan="3" class="pass-fail vertical-right">Pass/Fail?</th>
                <th rowspan="3" class="redo-header vertical-right">Re-do exam</th>
            </tr>
            <tr class="sub-group">
                {{#each tus}}
                    {{#each tues}}
                        <th class="vertical">{{name}}</th>
                    {{/each}}
                    <th class="vertical tu-avg-header">TU average</th>
                {{/each}}
            </tr>
            <tr class="credits-row">
                <th class="col-no">NÂ°</th>
                <th class="col-id">ID</th>
                <th class="col-surname">Surname</th>
                <th class="col-name">Name</th>
                {{#each tus}}
                    {{#each tues}}
                        <th class="credit">{{credits}}</th>
                    {{/each}}
                    <th class="credit">avg</th>
                {{/each}}
            </tr>
        </thead>
        <tbody>
            {{#each students}}
            <tr>
                <td class="col-no">{{index}}</td>
                <td class="col-id">{{studentId}}</td>
                <td class="col-surname">{{lastName}}</td>
                <td class="col-name">{{firstName}}</td>
                {{#each row}}
                    <td class="{{className}}">{{value}}</td>
                {{/each}}
                <td class="total-credits">{{weightedTotal}}</td>
                <td class="final-average">{{finalAverage}}</td>
                <td class="intl-grade">{{internationalGrade}}</td>
                <td class="conversion">{{conversion}}</td>
                <td class="pass-fail {{passFailClass}}">{{passFail}}</td>
                <td class="redo">{{redoExam}}</td>
            </tr>
            {{/each}}
        </tbody>
    </table>

    <section class="summary">
        <table class="summary-table">
            <tr><th>Best Average</th><td>{{stats.bestAverage}}</td></tr>
            <tr><th>Lowest Average</th><td>{{stats.lowestAverage}}</td></tr>
            <tr><th>Class Room Average</th><td>{{stats.classAverage}}</td></tr>
            <tr><th>Percentage of Success</th><td>{{stats.successRate}}%</td></tr>
            <tr><th>Percentage of Failure</th><td>{{stats.failureRate}}%</td></tr>
        </table>
        <table class="summary-table">
            <tr><th>Number of students</th><td>{{stats.totalStudents}}</td></tr>
            <tr><th>Number of passed</th><td>{{stats.passCount}}</td></tr>
            <tr><th>Number of fails</th><td>{{stats.failCount}}</td></tr>
        </table>
    </section>
</body>
</html>
